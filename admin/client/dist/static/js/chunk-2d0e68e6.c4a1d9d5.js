(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0e68e6"],{"98f7":function(t,e,r){"use strict";r.r(e);var l=function(){var t=this,e=t._self._c;return e("div",[e("el-select",{attrs:{placeholder:"请选择集群服务节点"},model:{value:t.cluster,callback:function(e){t.cluster=e},expression:"cluster"}},t._l(t.clusterList,(function(t,r){return e("el-option",{key:r,attrs:{label:t,value:t}})})),1),t.infoList?e("el-table",{staticStyle:{width:"100%",height:"100%"},attrs:{data:t.infoList,border:"","default-sort":{prop:"server_id",order:"descending"}}},[e("el-table-column",{staticStyle:{width:"12%"},attrs:{prop:"server_id",label:"服务地址",sortable:"",border:""}}),e("el-table-column",{staticStyle:{width:"12%"},attrs:{prop:"name",label:"服务名称",sortable:"",border:""}}),e("el-table-column",{staticStyle:{width:"12%"},attrs:{prop:"mqlen",label:"消息队列长度",sortable:"",border:""}}),e("el-table-column",{staticStyle:{width:"12%"},attrs:{prop:"task",label:"任务数量",sortable:"",border:""}}),e("el-table-column",{staticStyle:{width:"12%"},attrs:{prop:"mem",label:"内存使用(kb)",sortable:"",border:""}}),e("el-table-column",{staticStyle:{width:"12%"},attrs:{prop:"cpu",label:"cpu累计占用时间",sortable:"",border:""}}),e("el-table-column",{staticStyle:{width:"12%"},attrs:{prop:"message",label:"消息处理数量",sortable:"",border:""}}),e("el-table-column",{staticStyle:{width:"12%"},attrs:{prop:"cmem",label:"c内存使用(kb)",sortable:"",border:""}})],1):t._e()],1)},a=[],s=r("c7eb"),n=r("1da1"),i=(r("b0c0"),r("b775"));function o(){return Object(i["a"])({url:"/realtimelist/cluster_list",method:"get"})}function c(t){return Object(i["a"])({url:"/realtimelist/info",method:"get",params:{cluster_name:t}})}var u={data:function(){return{cluster:null,clusterList:[],infoList:[]}},created:function(){this.getClusterList()},watch:{cluster:{handler:function(t){this.handleSetLine()}}},methods:{getClusterList:function(){var t=this;return Object(n["a"])(Object(s["a"])().mark((function e(){var r;return Object(s["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,o();case 2:r=e.sent,console.log("getClusterList>>>",r),t.clusterList=r.data.cluster_list,t.serverMap=r.data.server_map;case 6:case"end":return e.stop()}}),e)})))()},getInfo:function(){var t=this;return Object(n["a"])(Object(s["a"])().mark((function e(){var r,l,a,n,i,o;return Object(s["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,c(t.cluster);case 2:for(n in r=e.sent,l=r.data,console.log("getInfo>> ",l),a={},t.infoList=[],l){for(o in i=l[n],i)a[o]||(a[o]=0),a[o]+=i[o];i.server_id=n,t.infoList.push(i)}a.name="汇总",a.server_id="total",t.infoList.push(a);case 11:case"end":return e.stop()}}),e)})))()},handleSetLine:function(){this.cluster&&this.getInfo()}}},b=u,d=r("2877"),p=Object(d["a"])(b,l,a,!1,null,null,null);e["default"]=p.exports}}]);